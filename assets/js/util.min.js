(function(e){e.fn.panel=function(k){var b=e(this),g=e("body"),l=e(window),h=b.attr("id");var c=e.extend({delay:0,hideOnClick:!0,hideOnEscape:!0,hideOnSwipe:!0,side:null,target:b,visibleClass:"visible"},k);"jQuery"!=typeof c.target&&(c.target=e(c.target));b._hide=function(a){c.target.hasClass(c.visibleClass)&&(a&&(a.preventDefault(),a.stopPropagation()),c.target.removeClass(c.visibleClass))};b.css("-ms-overflow-style","-ms-autohiding-scrollbar").css("-webkit-overflow-scrolling","touch");if(c.hideOnClick)b.on("click",
"a",function(a){var d=e(this).attr("href");d&&"#"!=d&&""!=d&&d!="#"+h&&(a.preventDefault(),a.stopPropagation(),b._hide(),window.setTimeout(function(){window.location.href=d},c.delay+10))});b.on("touchstart",function(a){b.touchPosX=a.originalEvent.touches[0].pageX;b.touchPosY=a.originalEvent.touches[0].pageY});b.on("touchmove",function(a){if(null!==b.touchPosX&&null!==b.touchPosY){var d=b.touchPosX-a.originalEvent.touches[0].pageX;a=b.touchPosY-a.originalEvent.touches[0].pageY;b.outerHeight();b.get(0);
b.scrollTop();if(c.hideOnSwipe){var f=!1;switch(c.side){case "left":f=20>a&&-20<a&&50<d;break;case "right":f=20>a&&-20<a&&-50>d;break;case "top":f=20>d&&-20<d&&50<a;break;case "bottom":f=20>d&&-20<d&&-50>a}if(f)return b.touchPosX=null,b.touchPosY=null,b._hide(),!1}}});b.on("click touchend touchstart touchmove",function(a){a.stopPropagation()});g.on("click touchend",function(a){b._hide(a)});g.on("click",'a[href="#'+h+'"]',function(a){a.preventDefault();a.stopPropagation();c.target.toggleClass(c.visibleClass)});
if(c.hideOnEscape)l.on("keydown",function(a){27==a.keyCode&&b._hide(a)});return b}})(jQuery);
